# issue-implement

# Implementing Issues

**Purpose**: Complete workflow for implementing a feature/fix from an issue and submitting as PR.

**When to Use**: When starting work on an existing issue (invoke with `/issue-implement`)

**Prerequisites**:
- Issue number to implement
- `gh` CLI and `gh-talk` installed
- Repository cloned locally

## Workflow

### 1. Review Issue

**Understand what's needed:**

```bash
# Read issue details
gh issue view <NUMBER>

# Check all comments for context
gh issue view <NUMBER> --comments

# See if there are related issues/PRs
gh issue view <NUMBER> --json title,body,labels,comments
```

**Clarify if needed:**

```bash
# Ask questions on the issue
gh issue comment <NUMBER> --body "Question about [aspect]...

ü§ñ Cursor"
```

### 2. Comment on Issue (Taking It)

```bash
gh issue comment <NUMBER> --body "## Taking This Issue

I'll implement this feature/fix.

**Approach**: [Brief description of implementation plan]

**ETA**: [Timeframe]

Will create PR when ready.

ü§ñ Cursor"
```

**Optional**: Self-assign

```bash
gh issue edit <NUMBER> --add-assignee @me
```

### 3. Create Feature Branch

**Branch name should reference issue:**

```bash
git checkout main
git pull origin main
git checkout -b cursor_issue_<NUMBER>_<description>
```

**Examples:**
- `cursor_issue_17_add_markdown_linting`
- `cursor_issue_5_bulk_operations`
- `cursor_issue_10_cleanup_command`

### 4. Implement Solution

**Follow issue requirements:**

- Implement the feature/fix
- **Write tests** (100% coverage for new code)
- Update documentation
- Follow AGENTS.md standards
- Self-review your code

**Reference issue in commits:**

```bash
git commit --author="Cursor <cursor@noreply.local>" -m "Add feature X for issue #<NUMBER>

Implements [aspect] as requested.

Relates to #<NUMBER>

ü§ñ Generated by Cursor"
```

### 5. Test Locally

```bash
make fmt   # Format
make ci    # Test and lint
```

**Ensure:**
- All tests pass
- No linter errors
- Issue requirements met

### 6. Create Pull Request Linking Issue

**Use `/pr-create` workflow then:**

```bash
gh pr create \
  --title "Implement [feature] (Issue #<NUMBER>)" \
  --body "## Summary

Implements feature/fix requested in #<NUMBER>.

## Changes

- What was implemented
- How it works
- How to test

## Closes

Closes #<NUMBER>

## Testing

- [ ] All issue requirements met
- [ ] Tests added (100% coverage)
- [ ] Documented

---
ü§ñ *Generated by Cursor*"
```

**IMPORTANT**: Use `Closes #<NUMBER>` to auto-close issue when PR merges

### 7. Link Back to Issue

**Update issue with PR link:**

```bash
gh issue comment <NUMBER> --body "## Implementation PR Created

Created PR #<PR> to implement this.

**Review**: Please check the PR for the implementation.

**Testing**: Instructions in PR description.

ü§ñ Cursor"
```

### 8. Continue with PR Workflow

**Now follow:**

‚Üí Use `/pr-iterate` for feedback and iterations
‚Üí Use `/pr-merge` when ready to merge

**When PR merges**: Issue automatically closes (due to "Closes #<NUMBER>")

## Common Patterns

### Bug Fix from Issue

```bash
# 1. Review bug report
gh issue view <BUG>

# 2. Take it
gh issue comment <BUG> --body "Taking this. Will fix and test.

ü§ñ Cursor"

# 3. Create branch
git checkout -b cursor_issue_<BUG>_fix_description

# 4. Fix bug
# ... implement fix ...
# ... add tests ...

# 5. Create PR
gh pr create --title "Fix [bug] (Issue #<BUG>)" --body "...
Closes #<BUG>
...
ü§ñ *Generated by Cursor*"

# 6. Link back
gh issue comment <BUG> --body "Fixed in PR #<PR>

ü§ñ Cursor"
```

### Feature from Issue

```bash
# 1. Clarify requirements
gh issue comment <FEAT> --body "To implement this correctly, need clarification on [X]

ü§ñ Cursor"

# Wait for response...

# 2. Take it
gh issue comment <FEAT> --body "Implementing this feature.

Approach: [plan]

ü§ñ Cursor"

# 3. Implement
git checkout -b cursor_issue_<FEAT>_feature_name
# ... implement ...

# 4. PR with closes
gh pr create --body "...
Closes #<FEAT>
..."
```

## Best Practices

### DO ‚úÖ

**Communicate on issue:**
- Comment when taking issue
- Ask clarifying questions
- Update with progress if delayed
- Link to PR when created

**Branch naming:**
- Include issue number: `cursor_issue_17_description`
- Makes relationship clear
- Easy to find related work

**PR description:**
- Always include `Closes #<NUMBER>`
- Reference issue in summary
- Explain how requirements were met

**Testing:**
- Verify all issue requirements addressed
- Test edge cases mentioned in issue
- 100% coverage for new code

### DON'T ‚ùå

**Don't:**
- Start without commenting on issue (claim it first)
- Ignore issue requirements (verify you're solving the right problem)
- Forget to link PR to issue (use Closes #<N>)
- Skip updating issue with PR link (helps issue reporter track)

## Linking Issues and PRs

**In PR description:**

```markdown
## Closes

Closes #<NUMBER>
```

**Or in commits:**

```bash
git commit -m "...

Closes #<NUMBER>

ü§ñ Generated by Cursor"
```

**GitHub will automatically:**
- Link issue to PR
- Close issue when PR merges
- Show PR in issue timeline

## Quick Reference

```bash
# Full flow
gh issue view <N>
gh issue comment <N> --body "Taking this

ü§ñ Cursor"
git checkout -b cursor_issue_<N>_description
# implement
make fmt && make ci
gh pr create --body "Closes #<N>
...
ü§ñ *Generated by Cursor*"
gh issue comment <N> --body "PR #<PR> created

ü§ñ Cursor"

# Then: /pr-iterate and /pr-merge
```

## Next Steps

**After PR created:**
‚Üí Use `/pr-iterate` to handle review feedback
‚Üí Use `/pr-merge` when ready to finalize

**Issue closes automatically when PR merges.**

---

**Related**:
- `issue-create.mdc` - Creating issues
- `pr-create.mdc` - Creating PRs
- `pr-iterate.mdc` - Handling PR feedback

---
Note: This content duplicated in .cursor/rules/issue-implement.mdc for auto-loading
