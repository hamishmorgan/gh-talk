---
description: "Create and submit a pull request with proper setup"
alwaysApply: false
---

# Creating Pull Requests

**Purpose**: Workflow for creating a new PR from branch creation through initial submission.

**When to Use**: When starting new work that will become a PR (invoke with `/pr-create`)

**Prerequisites**:

- Git repository cloned locally
- `gh` CLI installed and authenticated
- `make` targets available (build, test, lint, ci, fmt)
- `gh-talk` extension installed

## Agent Attribution ðŸ¤–

**ALL agent-generated content MUST include signatures:**

- **Commit messages**: `--author` flag + `ðŸ¤– Generated by Cursor` at end
- **PR descriptions**: End with `ðŸ¤– *Generated by Cursor*`
- **Comments/replies**: End with `ðŸ¤– Cursor`

## Steps

### 1. Create Feature Branch

```bash
git checkout main
git pull origin main
git checkout -b cursor_your_feature_name
```

**Branch naming:**

- Format: `<agent>_<descriptive_name>`
- Agent: cursor, copilot, or claude
- Descriptive: lowercase_with_underscores
- NO slashes, NO type prefixes

**Examples:**

- `cursor_add_bulk_operations`
- `cursor_fix_linter_errors`
- `claude_improve_error_messages`

### 2. Make Changes

- Implement feature/fix
- **Write tests for ALL new code (100% coverage of new code)**
- Update documentation if needed
- **Critically review your own changes**:
  - Read through every line
  - Question design decisions
  - Look for edge cases
  - Check for code smells

### 3. Commit Frequently

**Format**: `<clear description>`

```bash
git commit --author="Cursor <cursor@noreply.local>" -m "Add JSON output to list command

Implements proper JSON formatting with all thread fields.

ðŸ¤– Generated by Cursor"
```

**Rules:**

- NO type prefixes (feat:, fix:)
- Just describe what you did
- First letter capitalized
- Always include agent signature

### 4. Run Local Checks BEFORE Pushing

```bash
make fmt   # Format code (gofmt, goimports)
make ci    # Runs lint + test + format check
```

**Required:**

- All tests pass
- No linter errors
- Code formatted
- **100% coverage for new code**

**DO NOT push failing code**

### 5. Push to Branch

```bash
git push origin <branch-name>

# First push, set upstream:
git push -u origin <branch-name>
```

### 6. Create Pull Request

```bash
gh pr create \
  --title "Descriptive title (no type prefix)" \
  --body "## Summary

Brief description of changes.

## Changes

- What changed
- Why it changed
- How to test

## Closes

Closes #<issue-number> (if applicable)

---
ðŸ¤– *Generated by Cursor*"
```

**Required**: PR description MUST have agent signature

### 7. Request Copilot Review

**Immediately:**

```bash
# Request Copilot review via comment (only method that works)
gh pr comment <PR> --body "@github-copilot please review"
```

**Note**: Copilot is not a regular reviewer, must use @mention in comment

## Quick Reference

```bash
# Create PR
git checkout -b cursor_feature_name
# ... make changes ...
make fmt && make ci
git push -u origin cursor_feature_name
gh pr create  # Add description with ðŸ¤– signature
gh pr edit <PR> --add-reviewer copilot
```

## Next Steps

**After PR created:**
â†’ Use `/pr-iterate` to handle CI, feedback, and iterations

---

**Related**:

- `pr-iterate.mdc` - Responding to feedback
- `pr-merge.mdc` - Final review and merge
- `AGENTS.md` - Code standards

ðŸ¤– *Generated by Cursor*
