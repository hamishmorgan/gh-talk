---
description: "Guide for creating cursor command wrappers"
alwaysApply: false
globs: [".cursor/commands/**/*.md"]
---

# Creating Cursor Commands

**Purpose**: Guide for creating thin command wrapper files in `.cursor/commands/`

**When to Use**: When creating a new slash command (invoke with `/create-command`)

**Prerequisites**:
- Full workflow already exists in `.cursor/rules/`
- Understanding of command structure

## Command File Structure

Commands are **thin wrappers** that reference rules.

### Template

**File**: `.cursor/commands/<command-name>.md`

```markdown
# command-name

Load the [description] from `.cursor/rules/command-name.mdc`

This workflow/guide covers [what it does].
```

### Examples

**pr-create.md:**
```markdown
# pr-create

Load the PR creation workflow from `.cursor/rules/pr-create.mdc`

This workflow covers creating and submitting pull requests with proper branch naming, testing, and Copilot review requests.
```

**issue-implement.md:**
```markdown
# issue-implement

Load the issue implementation workflow from `.cursor/rules/issue-implement.mdc`

This workflow covers taking an issue, implementing the feature/fix, and creating a linked PR.
```

## Naming Convention

**Must match corresponding rule:**
- Command: `pr-create.md`
- Rule: `pr-create.mdc`
- Slash command: `/pr-create`

**Pattern**: `<verb>-<noun>.md`

**Examples:**
- `pr-create.md`, `issue-respond.md`, `create-rule.md`

## File Format

### Required Structure

1. **First line**: `# command-name` (must match filename without extension)
2. **Blank line**
3. **Reference to rule**: `Load the [description] from .cursor/rules/command-name.mdc`
4. **Blank line**
5. **Brief description**: What the workflow covers

### Rules

- âœ… **Keep it short** - 3-7 lines total
- âœ… **Reference the rule** - Point to `.cursor/rules/name.mdc`
- âœ… **Brief summary** - One sentence of what it covers
- âœ… **No frontmatter** - Commands don't use YAML frontmatter
- âœ… **.md extension** - Not .mdc
- âŒ **No full content** - That goes in the rule

## Creating a New Command

### Step 1: Ensure Rule Exists

```bash
# Rule must exist first
ls .cursor/rules/your-workflow.mdc
```

If not, use `/create-rule` to create the rule first.

### Step 2: Create Command File

```bash
# Create file
cat > .cursor/commands/your-workflow.md << 'EOF'
# your-workflow

Load the [description] from `.cursor/rules/your-workflow.mdc`

This workflow/guide covers [what it does].
EOF
```

### Step 3: Test

```bash
# In Cursor chat:
# Type / and look for /your-workflow
# Select it and verify it loads the rule content
```

### Step 4: Commit

```bash
git add .cursor/commands/your-workflow.md
git commit --author="Cursor <cursor@noreply.local>" -m "Add your-workflow command

Created slash command wrapper for your-workflow rule.

Invoke with: /your-workflow

ðŸ¤– Generated by Cursor"
```

## All Current Commands

```bash
ls .cursor/commands/

# Should see:
# pr-create.md, pr-iterate.md, pr-merge.md, pr-close.md, pr-review.md
# issue-create.md, issue-respond.md, issue-implement.md, issue-close.md
# emoji-semantics.md
# create-rule.md, create-command.md
```

## Command vs Rule

**Command file** (`.cursor/commands/name.md`):
- 3-7 lines
- No frontmatter
- References rule
- Slash-invokable

**Rule file** (`.cursor/rules/name.mdc`):
- Full content (200-500 lines)
- Has YAML frontmatter
- Complete workflow
- Can auto-load with globs

## Best Practices

### DO âœ…

**Keep commands minimal:**
```markdown
# pr-iterate

Load the PR iteration workflow from `.cursor/rules/pr-iterate.mdc`

This workflow covers monitoring CI, addressing feedback, and pushing fixes.
```

**Match naming:**
- Command: `pr-iterate.md`
- Rule: `pr-iterate.mdc`
- Slash: `/pr-iterate`

### DON'T âŒ

**Don't duplicate content:**
```markdown
âŒ # pr-iterate

Complete workflow content here...
(500 lines)
```

**Don't use frontmatter in commands:**
```markdown
âŒ ---
description: "..."
---

# pr-iterate
```

**Don't mismatch names:**
```markdown
âŒ Command: pr-creation.md
âŒ Rule: create-pr.mdc
```

## Checklist

Creating a new command:
- [ ] Rule exists in `.cursor/rules/`
- [ ] Command name matches rule name
- [ ] File is 3-7 lines
- [ ] References correct rule file
- [ ] No frontmatter
- [ ] .md extension (not .mdc)
- [ ] Tested with `/command-name`

## Quick Reference

```bash
# Create command
echo "# command-name

Load the description from \`.cursor/rules/command-name.mdc\`

This covers what it does." > .cursor/commands/command-name.md

# Commit
git add .cursor/commands/command-name.md
git commit --author="Cursor <cursor@noreply.local>" -m "Add command

ðŸ¤– Generated by Cursor"
```

---

**Related**:
- `create-rule.mdc` - Creating the full workflow rules
- `.cursor/README.md` - Complete cursor structure
- Official docs: [cursor.com/changelog/1-6](https://cursor.com/changelog/1-6)

**Last Updated**: 2025-11-03

ðŸ¤– *Generated by Cursor*
