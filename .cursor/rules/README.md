# Cursor Rules Directory

This directory contains workflow files for AI agents working on gh-talk in Cursor IDE.

## Files

### Workflows

**`pr-workflow.mdc`** - Pull request workflow with branch protection
- **Load strategy**: Always (`alwaysApply: true`)
- **Rationale**: All changes go through PRs due to branch protection
- **Purpose**: Complete PR lifecycle from branch creation to merge
- **Includes**: Branch naming (cursor_feature_name), commit format, testing, review handling with gh-talk, agent attribution requirements

**`creating-rules.mdc`** - Guide for creating new cursor rules
- **Load strategy**: Context-based (`globs: [".cursor/rules/**/*.mdc", "AGENTS.md"]`)
- **Rationale**: Only needed when editing rules or AGENTS.md
- **Purpose**: Meta-workflow explaining how to create effective rules
- **Includes**: Frontmatter format, loading strategies, content structure, best practices, template

## Frontmatter Patterns

Each `.mdc` file uses YAML frontmatter to control loading:

### Always Loaded
```yaml
---
description: "Brief purpose"
alwaysApply: true
---
```

**Current**: `pr-workflow.mdc` (all work uses PRs)

### Context-Based (Globs)
```yaml
---
description: "Brief purpose"
globs: ["pattern/**/*.ext"]
---
```

**Current**: `creating-rules.mdc` (loads when editing rules)

### On-Demand
```yaml
---
description: "Brief purpose"
alwaysApply: false
---
```

**Current**: None yet (but pattern available for future)

## Content Structure

**Workflows in this directory:**
- Procedural, step-by-step instructions
- Action-oriented with clear sequences
- Use enforcing language (MUST/NEVER/ALWAYS)
- Include examples and anti-patterns
- Quick reference section

**Reference material (in AGENTS.md):**
- Standards, patterns, architecture
- Context and rationale
- Detailed explanations
- Taxonomy and categorization

## Relationship to AGENTS.md

**AGENTS.md contains:**
- Project context and structure
- Code standards and conventions
- Dependencies and requirements
- File organization
- Testing strategy
- Component documentation

**Workflows reference AGENTS.md for:**
- Detailed standards
- Technical specifications  
- Pattern libraries
- Architecture decisions

**Don't duplicate**: Reference AGENTS.md instead of repeating content.

## Agent Attribution

**All rules must document agent signature requirements:**
- ðŸ¤– Cursor (in replies/comments)
- ðŸ¤– *Generated by Cursor* (in PR descriptions)
- ðŸ¤– Generated by Cursor (in commit messages)

See `pr-workflow.mdc` for complete attribution requirements.

## Adding New Rules

**Process:**
1. Determine if workflow (.mdc) or reference (AGENTS.md)
2. Choose name: `<topic>-workflow.mdc` or `<component>.mdc`
3. Write frontmatter with appropriate loading strategy
4. Structure content with clear sections
5. Validate with markdownlint
6. Update this README
7. Link from other rules if referenced

See `creating-rules.mdc` for detailed guide.

## Current Rules Summary

| File | Strategy | Purpose |
|------|----------|---------|
| `pr-workflow.mdc` | Always | PR lifecycle with branch protection |
| `creating-rules.mdc` | Globs | Guide for creating new rules |

**Total**: 2 workflow files

## Design Principles

1. **Focused**: Each rule covers one workflow or topic
2. **Concise**: Keep rules scannable and actionable
3. **Contextual**: Load only what's needed when it's needed
4. **Hierarchical**: Reference AGENTS.md for details
5. **Maintainable**: Clear organization, no duplication

---

**Last Updated**: 2025-11-03  
**Rules Count**: 2  
**Loading**: 1 always, 1 context-based

